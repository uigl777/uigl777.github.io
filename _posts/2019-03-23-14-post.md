---
title: "형 변환(as! as?로 downcasting)"
date: 2019-03-23 05:37:28 -0400
categories: iOS
---
다운캐스팅은 어떤 클래스에서 다른 클래스로 변환할 때 안전한 변환을 보장할 수 없으며,
컴파일러가 유효하지 않은 변환 시도를 잡아낼 수도 있음

다운캐스팅에서 유효하지 않은 형 변환이 이뤄졌는데 컴파일러가 에러를 잡지 않았다면, 런타임에서 에러가 발생

다운 캐스팅은 주로 자식 클래스들 중에 하나로 변환하는 데 사용

성공 확신이 있으면 as! 키워드를 사용하며 강제 변환(forced conversion)
- 변환이 안되면 crash

성공 확신이 없으면 as?를 사용하여 안전하게 변환
- 변환이 안되면 nil을 리턴하므로 옵셔널 타입으로 변환함
- 부모인스턴스 as! 자식 클래스 // downcasting 일반 타입으로 반환, 다운캐스팅이 반드시 성공할 것이라는 확신이 있을 때
- 부모인스턴스 as? 자식 클래스 // downcasting 옵셔널 타입으로 반환, 오류 가능성 있을 경우

![as](/img/screen1.png)
